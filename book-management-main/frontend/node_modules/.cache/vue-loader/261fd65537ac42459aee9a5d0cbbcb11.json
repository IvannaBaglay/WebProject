{"remainingRequest":"C:\\Users\\Пользователь\\Desktop\\лаб\\Web\\book-management-main\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Пользователь\\Desktop\\лаб\\Web\\book-management-main\\frontend\\src\\pages\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Пользователь\\Desktop\\лаб\\Web\\book-management-main\\frontend\\src\\pages\\Login.vue","mtime":1620896174658},{"path":"C:\\Users\\Пользователь\\Desktop\\лаб\\Web\\book-management-main\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Пользователь\\Desktop\\лаб\\Web\\book-management-main\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Пользователь\\Desktop\\лаб\\Web\\book-management-main\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Пользователь\\Desktop\\лаб\\Web\\book-management-main\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAibG9naW4iLAogIGRhdGE6ICgpID0+IHsKICAgIHJldHVybiB7CiAgICAgIGVycmNvZGU6ICcnLAogICAgICBsb2dpbkZhaWw6IGZhbHNlLAogICAgICBsb2FkaW5nU3RhdGU6IGZhbHNlLAogICAgICB1c2VyTmFtZTogJycsCiAgICAgIHVzZXJQYXNzOiAnJywKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmVycmNvZGUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbG9naW5fZXJyJykgICAgCiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnbG9naW5fZXJyJykKICAgIC8vIGNsZWFyIGxvZ2luIHN0YXRlICAgIAogICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgJycpCiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBvblVzZXJMb2dpbigpIHsKICAgICAgdGhpcy5sb2FkaW5nU3RhdGUgPSB0cnVlCiAgICAgIGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdsb2dpbicsIHt1c2VybmFtZTogdGhpcy51c2VyTmFtZSwgcGFzc3dvcmQ6dGhpcy51c2VyUGFzc30pCiAgICAgIGNvbnNvbGUubG9nKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsb2dpbl9lcnInKSkKICAgICAgdGhpcy5lcnJjb2RlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xvZ2luX2VycicpCiAgICAgIHRoaXMubG9hZGluZ1N0YXRlID0gZmFsc2UKICAgIH0sCiAgfQp9Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <v-app>\n    <v-main class=\"ch-bg\">\n      <v-container class=\"fill-height ch-mask\" fluid>\n        <v-row align=\"center\" justify=\"center\">\n          <v-col cols=\"12\" sm=\"8\" md=\"4\">\n            <v-card class=\"elevation-12\">\n              <v-toolbar\n                class=\"d-flex justify-center\"\n                color=\"primary\"\n                dark\n                flat\n              >\n                <v-toolbar-title>Book Management Test Project</v-toolbar-title>\n              </v-toolbar>\n              <v-card-text>\n                <v-form class=\"pa-4\">\n                  <v-text-field\n                    v-model=\"userName\"\n                    label=\"Username\"\n                    name=\"login\"\n                    prepend-icon=\"mdi-email\"\n                    type=\"text\"\n                  ></v-text-field>\n                  <v-text-field\n                    id=\"password\"\n                    v-model=\"userPass\"\n                    label=\"Password\"\n                    name=\"password\"\n                    prepend-icon=\"mdi-lock\"\n                    autocomplete=\"on\"\n                    type=\"password\"\n                  ></v-text-field>\n                </v-form>\n                <v-alert v-if=\"loginFail\" type=\"error\" dismissible>\n                  Invalid Login Info. Please try again.\n                </v-alert>\n              </v-card-text>\n              <v-card-actions class=\"pa-4\">\n                <v-spacer></v-spacer>\n                <v-btn\n                  color=\"primary\"\n                  width=\"100px\"\n                  rounded\n                  class=\"p-x-6\"\n                  :loading=\"loadingState\"\n                  :disabled=\"!userName || !userPass\"\n                  @click.native.prevent=\"onUserLogin\"\n                >\n                  Login\n                </v-btn>\n              </v-card-actions>\n            </v-card>\n\n            <v-alert\n              v-if=\"errcode\"\n              type=\"error\"\n              class=\"mt-3\"\n              dismissible\n            >\n              {{ errcode }}             \n            </v-alert>\n          </v-col>\n        </v-row>\n      </v-container>\n    </v-main>\n  </v-app>\n</template>\n\n<script>\nexport default {\n  name: \"login\",\n  data: () => {\n    return {\n      errcode: '',\n      loginFail: false,\n      loadingState: false,\n      userName: '',\n      userPass: '',\n    }\n  },\n  mounted() {\n    this.errcode = localStorage.getItem('login_err')    \n    localStorage.removeItem('login_err')\n    // clear login state    \n    localStorage.setItem('token', '')\n  },\n  methods: {\n    async onUserLogin() {\n      this.loadingState = true\n      await this.$store.dispatch('login', {username: this.userName, password:this.userPass})\n      console.log(localStorage.getItem('login_err'))\n      this.errcode = localStorage.getItem('login_err')\n      this.loadingState = false\n    },\n  }\n}\n</script>\n"]}]}