{"remainingRequest":"C:\\Users\\Пользователь\\Desktop\\лаб\\Web\\book-management-main\\frontend\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Пользователь\\Desktop\\лаб\\Web\\book-management-main\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Пользователь\\Desktop\\лаб\\Web\\book-management-main\\frontend\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Пользователь\\Desktop\\лаб\\Web\\book-management-main\\frontend\\src\\store.js","dependencies":[{"path":"C:\\Users\\Пользователь\\Desktop\\лаб\\Web\\book-management-main\\frontend\\src\\store.js","mtime":1620896174592},{"path":"C:\\Users\\Пользователь\\Desktop\\лаб\\Web\\book-management-main\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Пользователь\\Desktop\\лаб\\Web\\book-management-main\\frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Пользователь\\Desktop\\лаб\\Web\\book-management-main\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Пользователь\\Desktop\\лаб\\Web\\book-management-main\\frontend\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL1x1MDQxRlx1MDQzRVx1MDQzQlx1MDQ0Q1x1MDQzN1x1MDQzRVx1MDQzMlx1MDQzMFx1MDQ0Mlx1MDQzNVx1MDQzQlx1MDQ0Qy9EZXNrdG9wL1x1MDQzQlx1MDQzMFx1MDQzMS9XZWIvYm9vay1tYW5hZ2VtZW50LW1haW4vZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7CmltcG9ydCBWdWV4UGVyc2lzdCBmcm9tICd2dWV4LXBlcnNpc3QnOwppbXBvcnQgbG9jYWxGb3JhZ2UgZnJvbSAnbG9jYWxmb3JhZ2UnOwppbXBvcnQgYXhpb3MgZnJvbSAnLi9zZXJ2aWNlcy9heGlvcy1hdXRoJzsKaW1wb3J0IHJvdXRlciBmcm9tICcuL3JvdXRlcic7ClZ1ZS51c2UoVnVleCk7CnZhciB2dWV4U3RvcmFnZSA9IG5ldyBWdWV4UGVyc2lzdCh7CiAga2V5OiAnc291cmNlbGluaycsCiAgc3RvcmFnZTogbG9jYWxGb3JhZ2UKfSk7CmV4cG9ydCBkZWZhdWx0IG5ldyBWdWV4LlN0b3JlKHsKICBwbHVnaW5zOiBbdnVleFN0b3JhZ2UucGx1Z2luXSwKICBzdGF0ZTogewogICAgYXV0aFRva2VuOiBudWxsLAogICAgdXNlcklkOiBudWxsLAogICAgYm9va3M6IFtdLAogICAgY3VycmVudEJvb2s6IG51bGwsCiAgICBzdGF0dXM6IG51bGwsCiAgICBtZXNzYWdlOiBudWxsCiAgfSwKICBnZXR0ZXJzOiB7CiAgICBsb2dnZWRJbjogZnVuY3Rpb24gbG9nZ2VkSW4oc3RhdGUpIHsKICAgICAgcmV0dXJuICEhc3RhdGUuYXV0aFRva2VuOwogICAgfSwKICAgIHVzZXJJZDogZnVuY3Rpb24gdXNlcklkKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS51c2VySWQ7CiAgICB9LAogICAgYm9va3M6IGZ1bmN0aW9uIGJvb2tzKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5ib29rczsKICAgIH0sCiAgICBzdGF0dXM6IGZ1bmN0aW9uIHN0YXR1cyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuc3RhdHVzOwogICAgfSwKICAgIG1lc3NhZ2U6IGZ1bmN0aW9uIG1lc3NhZ2Uoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLm1lc3NhZ2U7CiAgICB9CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbihzdGF0ZSwgdXNlckRhdGEpIHsKICAgICAgc3RhdGUuYXV0aFRva2VuID0gdXNlckRhdGEuYXV0aF90b2tlbjsKICAgICAgc3RhdGUudXNlcklkID0gdXNlckRhdGEudXNlcl9pZDsKICAgIH0sCiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChzdGF0ZSkgewogICAgICBzdGF0ZS5hdXRoVG9rZW4gPSAnJzsKICAgICAgc3RhdGUudXNlcklkID0gJyc7CiAgICB9LAogICAgc2V0Qm9va3M6IGZ1bmN0aW9uIHNldEJvb2tzKHN0YXRlLCBib29rcykgewogICAgICBzdGF0ZS5ib29rcyA9IGJvb2tzLmxpc3Q7CiAgICB9LAogICAgc2V0U3RhdHVzOiBmdW5jdGlvbiBzZXRTdGF0dXMoc3RhdGUsIGRhdGEpIHsKICAgICAgc3RhdGUuc3RhdHVzID0gZGF0YS5jb2RlOwogICAgICBzdGF0ZS5tZXNzYWdlID0gZGF0YS5tZXNzYWdlOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKF9yZWYsIGF1dGhEYXRhKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgcmVzLCBkYXRhLCB0b2tlbiwgY3VycmVudFVzZXIsIGVycm9yRGF0YSwgZXJyb3JNc2c7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hdXRoL3Rva2VuL2xvZ2luJywgewogICAgICAgICAgICAgICAgICB1c2VybmFtZTogYXV0aERhdGEudXNlcm5hbWUsCiAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBhdXRoRGF0YS5wYXNzd29yZAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBkYXRhID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICB0b2tlbiA9ICJUb2tlbiAiLmNvbmNhdChkYXRhLmF1dGhfdG9rZW4pOwogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgdG9rZW4pOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgnL2F1dGgvdXNlcnMvbWUnLCB7CiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IHRva2VuCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgY3VycmVudFVzZXIgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgY29tbWl0KCdsb2dpbicsIHsKICAgICAgICAgICAgICAgICAgYXV0aF90b2tlbjogdG9rZW4sCiAgICAgICAgICAgICAgICAgIHVzZXJfaWQ6IGN1cnJlbnRVc2VyLmRhdGEuaWQKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiAnZGFzaGJvYXJkJwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxNTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgICBlcnJvckRhdGEgPSBfY29udGV4dC50MC5yZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgZXJyb3JNc2cgPSBlcnJvckRhdGEubm9uX2ZpZWxkX2Vycm9yc1swXTsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsb2dpbl9lcnInLCBlcnJvck1zZyk7CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzEsIDE1XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChfcmVmMikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICBjb21taXQoJ2xvZ291dCcpOwogICAgICByb3V0ZXIucHVzaCgnL2xvZ2luJyk7CiAgICB9LAogICAgbXlCb29rczogZnVuY3Rpb24gbXlCb29rcyhfcmVmMykgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgY29tbWl0LCB0b2tlbiwgcmVzLCBkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDE7CiAgICAgICAgICAgICAgICB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgnL3YxL2Jvb2tzL21pbmUnLCB7CiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IHRva2VuCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIGRhdGEgPSByZXMuZGF0YTsKICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0Qm9va3MnLCB7CiAgICAgICAgICAgICAgICAgIGxpc3Q6IGRhdGEKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0Mi50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMSwgMTBdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNyZWF0ZUJvb2s6IGZ1bmN0aW9uIGNyZWF0ZUJvb2soX3JlZjQsIGRhdGEpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgdG9rZW4sIHJlcywgc3RhdHVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmNC5jb21taXQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDE7CiAgICAgICAgICAgICAgICB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy92MS9ib29rcy8nLCBkYXRhLCB7CiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IHRva2VuLAogICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgY29tbWl0KCdzZXRTdGF0dXMnLCB7CiAgICAgICAgICAgICAgICAgIGNvZGU6IDIwMCwKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0Jvb2sgaGFzIGJlZW4gY3JlYXRlZCcKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDk7CiAgICAgICAgICAgICAgICBfY29udGV4dDMudDAgPSBfY29udGV4dDNbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgICBzdGF0dXMgPSBfY29udGV4dDMudDAucmVzcG9uc2Uuc3RhdHVzOwogICAgICAgICAgICAgICAgY29tbWl0KCdzZXRTdGF0dXMnLCB7CiAgICAgICAgICAgICAgICAgIGNvZGU6IHN0YXR1cywKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0R1cGxpY2F0ZWQgaXNzdWUnCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMywgbnVsbCwgW1sxLCA5XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB1cGRhdGVCb29rOiBmdW5jdGlvbiB1cGRhdGVCb29rKF9yZWY1LCBkYXRhKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciBjb21taXQsIHRva2VuLCByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWY1LmNvbW1pdDsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucHV0KCIvdjEvYm9va3MvIi5jb25jYXQoZGF0YS5pZCwgIi8iKSwgZGF0YS5mb3JtLCB7CiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IHRva2VuLAogICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgICAgY29tbWl0KCdzZXRTdGF0dXMnLCB7CiAgICAgICAgICAgICAgICAgIGNvZGU6IDIwMCwKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0Jvb2sgaGFzIGJlZW4gdXBkYXRlZCcKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBfY29udGV4dDQucHJldiA9IDk7CiAgICAgICAgICAgICAgICBfY29udGV4dDQudDAgPSBfY29udGV4dDRbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgICBjb21taXQoJ3NldFN0YXR1cycsIHsKICAgICAgICAgICAgICAgICAgY29kZTogNDAwLAogICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRHVwbGljYXRlZCBpc3N1ZScKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0LCBudWxsLCBbWzEsIDldXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHJlbW92ZUJvb2s6IGZ1bmN0aW9uIHJlbW92ZUJvb2soX3JlZjYsIGRhdGEpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgdG9rZW4sIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjYuY29tbWl0OwogICAgICAgICAgICAgICAgX2NvbnRleHQ1LnByZXYgPSAxOwogICAgICAgICAgICAgICAgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvc1siZGVsZXRlIl0oIi92MS9ib29rcy8iLmNvbmNhdChkYXRhLmlkLCAiLyIpLCB7CiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IHRva2VuCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDUuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQ1LnByZXYgPSA4OwogICAgICAgICAgICAgICAgX2NvbnRleHQ1LnQwID0gX2NvbnRleHQ1WyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQ1LnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSwgbnVsbCwgW1sxLCA4XV0pOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn0pOw=="},{"version":3,"sources":["C:/Users/Пользователь/Desktop/лаб/Web/book-management-main/frontend/src/store.js"],"names":["Vue","Vuex","VuexPersist","localForage","axios","router","use","vuexStorage","key","storage","Store","plugins","plugin","state","authToken","userId","books","currentBook","status","message","getters","loggedIn","mutations","login","userData","auth_token","user_id","logout","setBooks","list","setStatus","data","code","actions","authData","commit","post","username","password","res","token","localStorage","setItem","get","headers","currentUser","id","push","name","errorData","response","errorMsg","non_field_errors","myBooks","getItem","console","log","createBook","updateBook","put","form","removeBook"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport VuexPersist from 'vuex-persist';\nimport localForage from 'localforage';\nimport axios from './services/axios-auth'\nimport router from './router';\n\nVue.use(Vuex)\n\nconst vuexStorage = new VuexPersist({\n  key: 'sourcelink',\n  storage: localForage,\n})\n\nexport default new Vuex.Store({\n  plugins: [vuexStorage.plugin],\n  state: {\n    authToken: null,\n    userId: null,\n    books: [],\n    currentBook: null,\n    status: null,\n    message: null,\n  },\n  getters: {\n    loggedIn: state => !!state.authToken,\n    userId: state => state.userId,\n    books: state => state.books,\n    status: state => state.status,\n    message: state => state.message\n  },\n  mutations: {\n    login(state, userData) {\n      state.authToken = userData.auth_token\n      state.userId = userData.user_id\n    },\n    logout(state) {\n      state.authToken = ''\n      state.userId = ''\n    },\n    setBooks(state, books) {      \n      state.books = books.list\n    },\n    setStatus(state, data) {\n      state.status = data.code\n      state.message = data.message\n    }\n  },\n  actions: {\n    async login({ commit }, authData) {\n      try {\n        const res = await axios.post('/auth/token/login', {\n          username: authData.username,\n          password: authData.password\n        })\n\n        const data = res.data\n        const token = `Token ${data.auth_token}`\n        localStorage.setItem('token', token)\n        const currentUser = await axios.get('/auth/users/me', {\n          headers: {\n            'Authorization': token\n          }\n        })\n\n        commit('login', {\n          auth_token: token,\n          user_id: currentUser.data.id\n        })\n\n        router.push({name: 'dashboard'})\n      } catch (error) {\n        const errorData = error.response.data\n        const errorMsg = errorData.non_field_errors[0]\n        localStorage.setItem('login_err', errorMsg)\n      }\n    },\n\n    logout({ commit }) {      \n      commit('logout')\n      router.push('/login')\n    },\n\n    async myBooks({ commit }) {\n      try {\n        const token = localStorage.getItem('token')\n        \n        const res = await axios.get('/v1/books/mine', {\n          headers: {\n            'Authorization': token\n          }\n        })\n        \n        const data = res.data\n        commit('setBooks', {\n          list: data\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n\n    async createBook({commit}, data) {\n      try {\n        const token = localStorage.getItem('token')\n        const res = await axios.post('/v1/books/', data, {\n          headers: {\n            'Authorization': token,\n            'Content-Type': 'multipart/form-data'\n          }\n        })        \n        commit('setStatus', {\n          code: 200,\n          message: 'Book has been created'\n        })\n      } catch (error) {\n        const status = error.response.status\n\n        commit('setStatus', {\n          code: status,\n          message: 'Duplicated issue'\n        })\n      }\n    },\n\n    async updateBook({commit}, data) {\n      try {        \n        const token = localStorage.getItem('token')\n        const res = await axios.put(`/v1/books/${data.id}/`, data.form, {\n          headers: {\n            'Authorization': token,\n            'Content-Type': 'multipart/form-data'\n          }\n        })\n        \n        commit('setStatus', {\n          code: 200,\n          message: 'Book has been updated'\n        })\n      } catch (error) {\n        commit('setStatus', {\n          code: 400,\n          message: 'Duplicated issue'\n        })\n      }\n    },\n\n    async removeBook({commit}, data) {\n      try {        \n        const token = localStorage.getItem('token')\n        const res = await axios.delete(`/v1/books/${data.id}/`, {\n          headers: {\n            'Authorization': token,            \n          }\n        })\n      } catch (error) {\n        console.log(error)\n      }\n    }\n  },\n})"]}]}