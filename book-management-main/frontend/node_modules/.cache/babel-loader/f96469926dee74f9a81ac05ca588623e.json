{"remainingRequest":"C:\\Users\\Пользователь\\Desktop\\лаб\\Web\\book-management-main\\frontend\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Пользователь\\Desktop\\лаб\\Web\\book-management-main\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Пользователь\\Desktop\\лаб\\Web\\book-management-main\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Пользователь\\Desktop\\лаб\\Web\\book-management-main\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Пользователь\\Desktop\\лаб\\Web\\book-management-main\\frontend\\src\\pages\\Dashboard.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Пользователь\\Desktop\\лаб\\Web\\book-management-main\\frontend\\src\\pages\\Dashboard.vue","mtime":1620896174640},{"path":"C:\\Users\\Пользователь\\Desktop\\лаб\\Web\\book-management-main\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Пользователь\\Desktop\\лаб\\Web\\book-management-main\\frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Пользователь\\Desktop\\лаб\\Web\\book-management-main\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Пользователь\\Desktop\\лаб\\Web\\book-management-main\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Пользователь\\Desktop\\лаб\\Web\\book-management-main\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL1x1MDQxRlx1MDQzRVx1MDQzQlx1MDQ0Q1x1MDQzN1x1MDQzRVx1MDQzMlx1MDQzMFx1MDQ0Mlx1MDQzNVx1MDQzQlx1MDQ0Qy9EZXNrdG9wL1x1MDQzQlx1MDQzMFx1MDQzMS9XZWIvYm9vay1tYW5hZ2VtZW50LW1haW4vZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiZGFzaGJvYXJkIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcklkOiBudWxsLAogICAgICBib29rczogW10sCiAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgIGVkaXRpbmc6IGZhbHNlLAogICAgICBpc0VkaXRpbmc6IGZhbHNlLAogICAgICBsb2FkaW5nU3RhdGU6IGZhbHNlLAogICAgICBzbmFja2JhcjogZmFsc2UsCiAgICAgIHNuYWNrQ29sb3I6ICJzdWNjZXNzIiwKICAgICAgc25hY2tNc2c6ICIiLAogICAgICB1cGRhdGVkQm9va1Bvc3RlcjogbnVsbCwKICAgICAgYm9va0l0ZW06IHsKICAgICAgICBpZDogbnVsbCwKICAgICAgICB1c2VyX3RhcmdldF9pZDogbnVsbCwKICAgICAgICBib29rX3RpdGxlOiBudWxsLAogICAgICAgIGJvb2tfYXV0aG9yOiBudWxsLAogICAgICAgIGJvb2tfZGVzY3JpcHRpb246IG51bGwsCiAgICAgICAgYm9va19wb3N0ZXJfaW1hZ2U6IG51bGwKICAgICAgfQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLnVzZXJJZCA9IHRoaXMuJHN0b3JlLmdldHRlcnMudXNlcklkOwogICAgdGhpcy5nZXRNeUJvb2tzKCk7CiAgfSwKICBjb21wdXRlZDogewogICAgbG9nZ2VkSW46IGZ1bmN0aW9uIGxvZ2dlZEluKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5sb2dnZWRJbjsKICAgIH0sCiAgICBoZWFkZXJzOiBmdW5jdGlvbiBoZWFkZXJzKCkgewogICAgICByZXR1cm4gW3sKICAgICAgICB0ZXh0OiAiSUQiLAogICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgIHZhbHVlOiAiaWQiCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAiQ292ZXIiLAogICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgIHZhbHVlOiAiYm9va19wb3N0ZXJfaW1hZ2UiCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAiVGl0bGUiLAogICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgIHZhbHVlOiAiYm9va190aXRsZSIKICAgICAgfSwgewogICAgICAgIHRleHQ6ICJBdXRob3IiLAogICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgIHZhbHVlOiAiYm9va19hdXRob3IiCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAiRGVzY3JpcHRpb24iLAogICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgIHZhbHVlOiAiYm9va19kZXNjcmlwdGlvbiIKICAgICAgfSwgewogICAgICAgIHRleHQ6ICJVcGxvYWRlZCBEYXRlIiwKICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICB2YWx1ZTogImJvb2tfY3JlYXRlZF9hdCIKICAgICAgfSwgewogICAgICAgIHRleHQ6ICJFZGl0IiwKICAgICAgICB2YWx1ZTogImFjdGlvbnMiCiAgICAgIH1dOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0TXlCb29rczogZnVuY3Rpb24gZ2V0TXlCb29rcygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCJteUJvb2tzIik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF90aGlzLmJvb2tzID0gX3RoaXMuJHN0b3JlLmdldHRlcnMuYm9va3M7CiAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBlZGl0Qm9vazogZnVuY3Rpb24gZWRpdEJvb2soaXRlbSkgewogICAgICB0aGlzLmJvb2tJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSk7CiAgICAgIHRoaXMuZWRpdGluZyA9IHRydWU7CiAgICAgIHRoaXMuaXNFZGl0aW5nID0gdHJ1ZTsKICAgIH0sCiAgICBkZWxldGVCb29rOiBmdW5jdGlvbiBkZWxldGVCb29rKGl0ZW0pIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgY29uZmlybSwgcmV0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRjb25maXJtKCJEbyB5b3Ugd2FudCB0byByZW1vdmUgcmVhbGx5PyIpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBjb25maXJtID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCFjb25maXJtKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kc3RvcmUuZGlzcGF0Y2goInJlbW92ZUJvb2siLCB7CiAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLmlkCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgcmV0ID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgX3RoaXMyLmFsZXJ0TWVzc2FnZSgic3VjY2VzcyIsICJUaGUgYm9vayBoYXMgYmVlbiByZW1vdmVkLiIpOwoKICAgICAgICAgICAgICAgIF90aGlzMi5nZXRNeUJvb2tzKCk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIG9uSW1hZ2VVcGxvYWQ6IGZ1bmN0aW9uIG9uSW1hZ2VVcGxvYWQoZmlsZSkgewogICAgICB0aGlzLmJvb2tJdGVtLmJvb2tfcG9zdGVyX2ltYWdlID0gZmlsZTsKICAgICAgdGhpcy51cGRhdGVkQm9va1Bvc3RlciA9IGZpbGU7CiAgICB9LAogICAgc2F2ZUVkaXRpbmc6IGZ1bmN0aW9uIHNhdmVFZGl0aW5nKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBvYmosIGZvcm1EYXRhLCByZXQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG9iaiA9IF90aGlzMy5ib29rSXRlbTsKCiAgICAgICAgICAgICAgICBpZiAob2JqLmJvb2tfdGl0bGUpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczMuYWxlcnRNZXNzYWdlKCJmYWlsIiwgIlBsZWFzZSBpbnB1dCBib29rIHRpdGxlLiIpOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgaWYgKG9iai5ib29rX2F1dGhvcikgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMy5hbGVydE1lc3NhZ2UoImZhaWwiLCAiUGxlYXNlIGlucHV0IGJvb2sgYXV0aG9yLiIpOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgaWYgKG9iai5ib29rX2Rlc2NyaXB0aW9uKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMy5hbGVydE1lc3NhZ2UoImZhaWwiLCAiUGxlYXNlIGlucHV0IGJvb2sgZGVzY3JpcHRpb24uIik7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX3RoaXMzLmxvYWRpbmdTdGF0ZSA9IHRydWU7CiAgICAgICAgICAgICAgICBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJib29rX2Rlc2NyaXB0aW9uIiwgX3RoaXMzLmJvb2tJdGVtLmJvb2tfZGVzY3JpcHRpb24pOwogICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJib29rX2F1dGhvciIsIF90aGlzMy5ib29rSXRlbS5ib29rX2F1dGhvcik7CiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoImJvb2tfdGl0bGUiLCBfdGhpczMuYm9va0l0ZW0uYm9va190aXRsZSk7CiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoInVzZXJfdGFyZ2V0IiwgX3RoaXMzLnVzZXJJZCk7CgogICAgICAgICAgICAgICAgaWYgKG9iai5pZCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI5OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMzLmJvb2tJdGVtLmJvb2tfcG9zdGVyX2ltYWdlICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJib29rX3Bvc3Rlcl9pbWFnZSIsIF90aGlzMy5ib29rSXRlbS5ib29rX3Bvc3Rlcl9pbWFnZSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyMDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuJHN0b3JlLmRpc3BhdGNoKCJjcmVhdGVCb29rIiwgZm9ybURhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMzLiRzdG9yZS5nZXR0ZXJzLnN0YXR1cyA9PSA0MDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMy5hbGVydE1lc3NhZ2UoImZhaWwiLCBfdGhpczMuJHN0b3JlLmdldHRlcnMubWVzc2FnZSk7CgogICAgICAgICAgICAgICAgX3RoaXMzLmxvYWRpbmdTdGF0ZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDI2OgogICAgICAgICAgICAgICAgX3RoaXMzLmFsZXJ0TWVzc2FnZSgic3VjY2VzcyIsICJUaGUgbmV3IGJvb2sgaGFzIGJlZW4gYWRkZWQuIik7CgogICAgICAgICAgICAgIGNhc2UgMjc6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDQwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjk6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXMzLnVwZGF0ZWRCb29rUG9zdGVyICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJib29rX3Bvc3Rlcl9pbWFnZSIsIF90aGlzMy51cGRhdGVkQm9va1Bvc3Rlcik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuJHN0b3JlLmRpc3BhdGNoKCJ1cGRhdGVCb29rIiwgewogICAgICAgICAgICAgICAgICBpZDogb2JqLmlkLAogICAgICAgICAgICAgICAgICBmb3JtOiBmb3JtRGF0YQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzI6CiAgICAgICAgICAgICAgICByZXQgPSBfY29udGV4dDMuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczMuJHN0b3JlLmdldHRlcnMuc3RhdHVzID09IDQwMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzOTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMzLmFsZXJ0TWVzc2FnZSgiZmFpbCIsIF90aGlzMy4kc3RvcmUuZ2V0dGVycy5tZXNzYWdlKTsKCiAgICAgICAgICAgICAgICBfdGhpczMubG9hZGluZ1N0YXRlID0gZmFsc2U7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMzk6CiAgICAgICAgICAgICAgICBfdGhpczMuYWxlcnRNZXNzYWdlKCJzdWNjZXNzIiwgIlRoZSBib29rIGhhcyBiZWVuIHVwZGF0ZWQuIik7CgogICAgICAgICAgICAgIGNhc2UgNDA6CiAgICAgICAgICAgICAgICBfdGhpczMuZ2V0TXlCb29rcygpOwoKICAgICAgICAgICAgICAgIF90aGlzMy5lZGl0aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICBfdGhpczMubG9hZGluZ1N0YXRlID0gZmFsc2U7CgogICAgICAgICAgICAgIGNhc2UgNDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBhbGVydE1lc3NhZ2U6IGZ1bmN0aW9uIGFsZXJ0TWVzc2FnZSh0eXBlLCBtc2cpIHsKICAgICAgaWYgKG1zZykgewogICAgICAgIHRoaXMuc25hY2tiYXIgPSB0cnVlOwogICAgICAgIHRoaXMuc25hY2tDb2xvciA9IHR5cGUgPT09ICJzdWNjZXNzIiA/ICJzdWNjZXNzIiA6IHR5cGUgPT09ICJmYWlsIiA/ICJlcnJvciIgOiAiaW5mbyI7CiAgICAgICAgdGhpcy5zbmFja01zZyA9IG1zZzsKICAgICAgfQogICAgfQogIH0sCiAgaGVhZDogZnVuY3Rpb24gaGVhZCgpIHsKICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiAiRGFzaGJvYXJkIC0iCiAgICB9OwogIH0KfTs="},{"version":3,"sources":["Dashboard.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-app>\n    <v-main>\n      <v-container>\n        <v-row>\n          <v-col cols=\"12\">\n            <v-card flat>\n              <v-card-title class=\"headline font-weight-bold mx-6 mt-4\">\n                My Books\n                <v-spacer></v-spacer>\n                <v-btn color=\"primary\" @click=\"editBook(null)\">Add book</v-btn>\n              </v-card-title>\n            </v-card>\n          </v-col>\n        </v-row>\n        <v-row>\n          <v-col cols=\"12\">\n            <v-data-table\n              :headers=\"headers\"\n              :items=\"books\"\n              item-key=\"id\"\n              multi-sort\n              :loading=\"loading\"\n            >\n              <template v-slot:item.book_poster_image=\"{ item }\">\n                <v-img\n                  :src=\"item.book_poster_image\"\n                  class=\"poster-image\"\n                ></v-img>\n              </template>\n              <template v-slot:item.actions=\"{ item }\">\n                <v-btn color=\"primary\" @click=\"editBook(item)\">Edit</v-btn>\n                &nbsp;\n                <v-btn color=\"error\" @click=\"deleteBook(item)\">Delete</v-btn>\n              </template>\n            </v-data-table>\n          </v-col>\n        </v-row>\n        <v-dialog v-model=\"editing\" max-width=\"500px\">\n          <v-card>\n            <v-card-title>\n              <span v-if=\"bookItem.id === null\" class=\"headline\">Add book</span>\n              <span v-else class=\"headline\">Edit Book</span>\n              <v-spacer></v-spacer>\n              <v-btn\n                fab\n                text\n                dark\n                small\n                color=\"red lighten-3\"\n                style=\"margin-right: -6px\"\n                @click=\"editing = !editing\"\n                >X</v-btn\n              >\n            </v-card-title>\n            <v-card-text>\n              <v-container>\n                <v-row>\n                  <v-col cols=\"8\">\n                    <v-file-input\n                      accept=\".png, .gif, .jpg\"\n                      prepend-icon=\"mdi-file-image\"\n                      label=\"Poster Image\"\n                      placeholder=\"Please select book cover\"\n                      @change=\"onImageUpload\"\n                    ></v-file-input>\n                  </v-col>\n                </v-row>\n                <v-row>\n                  <v-col cols=\"6\">\n                    <v-text-field\n                      v-model=\"bookItem.book_title\"\n                      label=\"Title\"\n                      max=\"64\"\n                      dense\n                      hide-details\n                    ></v-text-field>\n                  </v-col>\n                  <v-col cols=\"6\">\n                    <v-text-field\n                      v-model=\"bookItem.book_author\"\n                      label=\"Author\"\n                      max=\"64\"\n                      dense\n                      hide-details\n                    ></v-text-field>\n                  </v-col>\n                </v-row>\n                <v-row>\n                  <v-col cols=\"12\">\n                    <v-textarea\n                      outlined\n                      v-model=\"bookItem.book_description\"\n                      label=\"Description\"\n                    ></v-textarea>\n                  </v-col>\n                </v-row>\n              </v-container>\n            </v-card-text>\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn\n                dark\n                color=\"green\"\n                :loading=\"loadingState\"\n                @click=\"saveEditing\"\n                >Save</v-btn\n              >\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n        <v-snackbar\n          v-model=\"snackbar\"\n          :top=\"true\"\n          :timeout=\"5000\"\n          :color=\"snackColor\"\n          >{{ snackMsg }}</v-snackbar\n        >\n      </v-container>\n    </v-main>\n  </v-app>\n</template>\n\n<script>\nexport default {\n  name: \"dashboard\",\n  data: () => {\n    return {\n      userId: null,\n      books: [],\n      loading: true,\n      editing: false,\n      isEditing: false,\n      loadingState: false,\n      snackbar: false,\n      snackColor: \"success\",\n      snackMsg: \"\",\n      updatedBookPoster: null,\n      bookItem: {\n        id: null,\n        user_target_id: null,\n        book_title: null,\n        book_author: null,\n        book_description: null,\n        book_poster_image: null,\n      },\n    };\n  },\n  mounted() {\n    this.userId = this.$store.getters.userId;\n    this.getMyBooks();\n  },\n  computed: {\n    loggedIn: function () {\n      return this.$store.getters.loggedIn;\n    },\n    headers: function () {\n      return [\n        {\n          text: \"ID\",\n          sortable: true,\n          value: \"id\",\n        },\n        {\n          text: \"Cover\",\n          sortable: true,\n          value: \"book_poster_image\",\n        },\n        {\n          text: \"Title\",\n          sortable: true,\n          value: \"book_title\",\n        },\n        {\n          text: \"Author\",\n          sortable: true,\n          value: \"book_author\",\n        },\n        {\n          text: \"Description\",\n          sortable: true,\n          value: \"book_description\",\n        },\n        {\n          text: \"Uploaded Date\",\n          sortable: true,\n          value: \"book_created_at\",\n        },\n        {\n          text: \"Edit\",\n          value: \"actions\",\n        },\n      ];\n    },\n  },\n  methods: {\n    async getMyBooks() {\n      await this.$store.dispatch(\"myBooks\");\n      this.books = this.$store.getters.books;\n      this.loading = false;\n    },\n\n    editBook(item) {\n      this.bookItem = Object.assign({}, item);\n\n      this.editing = true;\n      this.isEditing = true;\n    },\n\n    async deleteBook(item) {\n      const confirm = await this.$confirm(\"Do you want to remove really?\");\n      if (confirm) {\n        const ret = await this.$store.dispatch(\"removeBook\", {\n          id: item.id,\n        });\n        this.alertMessage(\"success\", \"The book has been removed.\");\n        this.getMyBooks();\n      }\n    },\n\n    onImageUpload(file) {\n      this.bookItem.book_poster_image = file;\n      this.updatedBookPoster = file;\n    },\n\n    async saveEditing() {\n      const obj = this.bookItem;\n      if (!obj.book_title) {\n        this.alertMessage(\"fail\", \"Please input book title.\");\n        return;\n      }\n\n      if (!obj.book_author) {\n        this.alertMessage(\"fail\", \"Please input book author.\");\n        return;\n      }\n\n      if (!obj.book_description) {\n        this.alertMessage(\"fail\", \"Please input book description.\");\n        return;\n      }\n\n      this.loadingState = true;\n      let formData = new FormData();\n      formData.append(\"book_description\", this.bookItem.book_description);\n      formData.append(\"book_author\", this.bookItem.book_author);\n      formData.append(\"book_title\", this.bookItem.book_title);\n      formData.append(\"user_target\", this.userId);\n\n      if (!obj.id) {\n        if (this.bookItem.book_poster_image != null) {\n          formData.append(\"book_poster_image\", this.bookItem.book_poster_image);\n        }\n        await this.$store.dispatch(\"createBook\", formData);\n\n        if (this.$store.getters.status == 400) {\n          this.alertMessage(\"fail\", this.$store.getters.message);\n          this.loadingState = false;\n          return;\n        } else {\n          this.alertMessage(\"success\", \"The new book has been added.\");\n        }\n      } else {\n        if (this.updatedBookPoster != null) {\n          formData.append(\"book_poster_image\", this.updatedBookPoster);\n        }\n        const ret = await this.$store.dispatch(\"updateBook\", {\n          id: obj.id,\n          form: formData,\n        });\n\n        if (this.$store.getters.status == 400) {\n          this.alertMessage(\"fail\", this.$store.getters.message);\n          this.loadingState = false;\n          return;\n        } else {\n          this.alertMessage(\"success\", \"The book has been updated.\");\n        }\n      }\n\n      this.getMyBooks();\n      this.editing = false;\n      this.loadingState = false;\n    },\n\n    alertMessage(type, msg) {\n      if (msg) {\n        this.snackbar = true;\n        this.snackColor =\n          type === \"success\" ? \"success\" : type === \"fail\" ? \"error\" : \"info\";\n        this.snackMsg = msg;\n      }\n    },\n  },\n  head() {\n    return {\n      title: \"Dashboard -\",\n    };\n  },\n};\n</script>\n<style scoped>\n.poster-image {\n  width: 50px;\n  height: 50px;\n}\n\n.poster-thumbnail {\n  width: 150px;\n  height: 150px;\n}\n</style>"],"sourceRoot":"src/pages"}]}