{"remainingRequest":"C:\\Users\\Пользователь\\Desktop\\лаб\\Web\\book-management-main\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Пользователь\\Desktop\\лаб\\Web\\book-management-main\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Пользователь\\Desktop\\лаб\\Web\\book-management-main\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Пользователь\\Desktop\\лаб\\Web\\book-management-main\\frontend\\src\\pages\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Пользователь\\Desktop\\лаб\\Web\\book-management-main\\frontend\\src\\pages\\Login.vue","mtime":1620896174658},{"path":"C:\\Users\\Пользователь\\Desktop\\лаб\\Web\\book-management-main\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Пользователь\\Desktop\\лаб\\Web\\book-management-main\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Пользователь\\Desktop\\лаб\\Web\\book-management-main\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Пользователь\\Desktop\\лаб\\Web\\book-management-main\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL1x1MDQxRlx1MDQzRVx1MDQzQlx1MDQ0Q1x1MDQzN1x1MDQzRVx1MDQzMlx1MDQzMFx1MDQ0Mlx1MDQzNVx1MDQzQlx1MDQ0Qy9EZXNrdG9wL1x1MDQzQlx1MDQzMFx1MDQzMS9XZWIvYm9vay1tYW5hZ2VtZW50LW1haW4vZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAibG9naW4iLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlcnJjb2RlOiAnJywKICAgICAgbG9naW5GYWlsOiBmYWxzZSwKICAgICAgbG9hZGluZ1N0YXRlOiBmYWxzZSwKICAgICAgdXNlck5hbWU6ICcnLAogICAgICB1c2VyUGFzczogJycKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5lcnJjb2RlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xvZ2luX2VycicpOwogICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2xvZ2luX2VycicpOyAvLyBjbGVhciBsb2dpbiBzdGF0ZSAgICAKCiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCAnJyk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBvblVzZXJMb2dpbjogZnVuY3Rpb24gb25Vc2VyTG9naW4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzLmxvYWRpbmdTdGF0ZSA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2xvZ2luJywgewogICAgICAgICAgICAgICAgICB1c2VybmFtZTogX3RoaXMudXNlck5hbWUsCiAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBfdGhpcy51c2VyUGFzcwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsb2dpbl9lcnInKSk7CiAgICAgICAgICAgICAgICBfdGhpcy5lcnJjb2RlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xvZ2luX2VycicpOwogICAgICAgICAgICAgICAgX3RoaXMubG9hZGluZ1N0YXRlID0gZmFsc2U7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA,KAFA;AAGA,MAAA,YAAA,EAAA,KAHA;AAIA,MAAA,QAAA,EAAA,EAJA;AAKA,MAAA,QAAA,EAAA;AALA,KAAA;AAOA,GAVA;AAWA,EAAA,OAXA,qBAWA;AACA,SAAA,OAAA,GAAA,YAAA,CAAA,OAAA,CAAA,WAAA,CAAA;AACA,IAAA,YAAA,CAAA,UAAA,CAAA,WAAA,EAFA,CAGA;;AACA,IAAA,YAAA,CAAA,OAAA,CAAA,OAAA,EAAA,EAAA;AACA,GAhBA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,KAAA,CAAA,YAAA,GAAA,IAAA;AADA;AAAA,uBAEA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,OAAA,EAAA;AAAA,kBAAA,QAAA,EAAA,KAAA,CAAA,QAAA;AAAA,kBAAA,QAAA,EAAA,KAAA,CAAA;AAAA,iBAAA,CAFA;;AAAA;AAGA,gBAAA,OAAA,CAAA,GAAA,CAAA,YAAA,CAAA,OAAA,CAAA,WAAA,CAAA;AACA,gBAAA,KAAA,CAAA,OAAA,GAAA,YAAA,CAAA,OAAA,CAAA,WAAA,CAAA;AACA,gBAAA,KAAA,CAAA,YAAA,GAAA,KAAA;;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAPA;AAjBA,CAAA","sourcesContent":["<template>\n  <v-app>\n    <v-main class=\"ch-bg\">\n      <v-container class=\"fill-height ch-mask\" fluid>\n        <v-row align=\"center\" justify=\"center\">\n          <v-col cols=\"12\" sm=\"8\" md=\"4\">\n            <v-card class=\"elevation-12\">\n              <v-toolbar\n                class=\"d-flex justify-center\"\n                color=\"primary\"\n                dark\n                flat\n              >\n                <v-toolbar-title>Book Management Test Project</v-toolbar-title>\n              </v-toolbar>\n              <v-card-text>\n                <v-form class=\"pa-4\">\n                  <v-text-field\n                    v-model=\"userName\"\n                    label=\"Username\"\n                    name=\"login\"\n                    prepend-icon=\"mdi-email\"\n                    type=\"text\"\n                  ></v-text-field>\n                  <v-text-field\n                    id=\"password\"\n                    v-model=\"userPass\"\n                    label=\"Password\"\n                    name=\"password\"\n                    prepend-icon=\"mdi-lock\"\n                    autocomplete=\"on\"\n                    type=\"password\"\n                  ></v-text-field>\n                </v-form>\n                <v-alert v-if=\"loginFail\" type=\"error\" dismissible>\n                  Invalid Login Info. Please try again.\n                </v-alert>\n              </v-card-text>\n              <v-card-actions class=\"pa-4\">\n                <v-spacer></v-spacer>\n                <v-btn\n                  color=\"primary\"\n                  width=\"100px\"\n                  rounded\n                  class=\"p-x-6\"\n                  :loading=\"loadingState\"\n                  :disabled=\"!userName || !userPass\"\n                  @click.native.prevent=\"onUserLogin\"\n                >\n                  Login\n                </v-btn>\n              </v-card-actions>\n            </v-card>\n\n            <v-alert\n              v-if=\"errcode\"\n              type=\"error\"\n              class=\"mt-3\"\n              dismissible\n            >\n              {{ errcode }}             \n            </v-alert>\n          </v-col>\n        </v-row>\n      </v-container>\n    </v-main>\n  </v-app>\n</template>\n\n<script>\nexport default {\n  name: \"login\",\n  data: () => {\n    return {\n      errcode: '',\n      loginFail: false,\n      loadingState: false,\n      userName: '',\n      userPass: '',\n    }\n  },\n  mounted() {\n    this.errcode = localStorage.getItem('login_err')    \n    localStorage.removeItem('login_err')\n    // clear login state    \n    localStorage.setItem('token', '')\n  },\n  methods: {\n    async onUserLogin() {\n      this.loadingState = true\n      await this.$store.dispatch('login', {username: this.userName, password:this.userPass})\n      console.log(localStorage.getItem('login_err'))\n      this.errcode = localStorage.getItem('login_err')\n      this.loadingState = false\n    },\n  }\n}\n</script>\n"],"sourceRoot":"src/pages"}]}